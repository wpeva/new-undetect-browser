# ==================================
# Secrets Configuration Template
# IMPORTANT: DO NOT commit actual secrets to git!
# Copy this file to secrets.yaml and fill in real values
# ==================================

# Instructions:
# 1. Copy this file: cp secrets-template.yaml secrets.yaml
# 2. Generate base64 encoded values:
#    echo -n 'your-secret-value' | base64
# 3. Replace CHANGEME_BASE64_ENCODED with your base64 encoded values
# 4. Apply: kubectl apply -f secrets.yaml
# 5. NEVER commit secrets.yaml to version control!

---
# Application Secrets
apiVersion: v1
kind: Secret
metadata:
  name: app-secret
  namespace: antidetect
  labels:
    app: browser
    tier: application
type: Opaque
data:
  # JWT Secret - Generate with: openssl rand -base64 32 | base64
  # Example: echo -n 'your-super-secret-jwt-key-change-this' | base64
  jwt-secret: Q0hBTkdFTUVfQkFTRTY0X0VOQ09ERUQ=

  # API Keys (if needed)
  # api-key: Q0hBTkdFTUVfQkFTRTY0X0VOQ09ERUQ=

---
# Database Secret
apiVersion: v1
kind: Secret
metadata:
  name: db-secret
  namespace: antidetect
  labels:
    app: postgresql
    tier: database
type: Opaque
data:
  # PostgreSQL username
  # Example: echo -n 'antidetect_user' | base64
  username: YW50aWRldGVjdF91c2Vy

  # PostgreSQL password - Generate with: openssl rand -base64 32 | base64
  # Example: echo -n 'your-super-secret-db-password' | base64
  password: Q0hBTkdFTUVfQkFTRTY0X0VOQ09ERUQ=

  # Database connection string
  # Example: echo -n 'postgresql://antidetect_user:password@postgresql-service:5432/antidetect' | base64
  connection-string: cG9zdGdyZXNxbDovL2FudGlkZXRlY3RfdXNlcjpwYXNzd29yZEBwb3N0Z3Jlc3FsLXNlcnZpY2U6NTQzMi9hbnRpZGV0ZWN0

---
# Redis Secret
apiVersion: v1
kind: Secret
metadata:
  name: redis-secret
  namespace: antidetect
  labels:
    app: redis
    tier: cache
type: Opaque
data:
  # Redis password - Generate with: openssl rand -base64 32 | base64
  # Example: echo -n 'your-super-secret-redis-password' | base64
  password: Q0hBTkdFTUVfQkFTRTY0X0VOQ09ERUQ=

---
# TLS Certificate Secret (for HTTPS)
# You can generate self-signed certificates with:
# openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
#   -keyout tls.key -out tls.crt \
#   -subj "/CN=antidetect.example.com"
# Then: kubectl create secret tls tls-secret \
#   --cert=tls.crt --key=tls.key -n antidetect

apiVersion: v1
kind: Secret
metadata:
  name: tls-secret
  namespace: antidetect
  labels:
    app: browser
    tier: application
type: kubernetes.io/tls
data:
  # Base64 encoded TLS certificate
  tls.crt: Q0hBTkdFTUVfQkFTRTY0X0VOQ09ERURfQ0VSVEZJQ0FURQ==

  # Base64 encoded TLS private key
  tls.key: Q0hBTkdFTUVfQkFTRTY0X0VOQ09ERURfUFJJVkFURV9LRVk=

---
# Docker Registry Secret (if using private registry)
# Create with: kubectl create secret docker-registry regcred \
#   --docker-server=<your-registry-server> \
#   --docker-username=<your-username> \
#   --docker-password=<your-password> \
#   --docker-email=<your-email> \
#   -n antidetect

# apiVersion: v1
# kind: Secret
# metadata:
#   name: regcred
#   namespace: antidetect
# type: kubernetes.io/dockerconfigjson
# data:
#   .dockerconfigjson: Q0hBTkdFTUVfQkFTRTY0X0VOQ09ERUQ=

---
# Create secrets.sh helper script
# Save this to create-secrets.sh and run it to create secrets

# #!/bin/bash
#
# # Generate random secrets
# JWT_SECRET=$(openssl rand -base64 32)
# DB_PASSWORD=$(openssl rand -base64 32)
# REDIS_PASSWORD=$(openssl rand -base64 32)
# DB_USER="antidetect_user"
# DB_NAME="antidetect"
#
# # Create Kubernetes secrets
# kubectl create secret generic app-secret \
#   --from-literal=jwt-secret="$JWT_SECRET" \
#   -n antidetect --dry-run=client -o yaml | kubectl apply -f -
#
# kubectl create secret generic db-secret \
#   --from-literal=username="$DB_USER" \
#   --from-literal=password="$DB_PASSWORD" \
#   --from-literal=connection-string="postgresql://$DB_USER:$DB_PASSWORD@postgresql-service:5432/$DB_NAME" \
#   -n antidetect --dry-run=client -o yaml | kubectl apply -f -
#
# kubectl create secret generic redis-secret \
#   --from-literal=password="$REDIS_PASSWORD" \
#   -n antidetect --dry-run=client -o yaml | kubectl apply -f -
#
# echo "Secrets created successfully!"
# echo "JWT_SECRET: $JWT_SECRET"
# echo "DB_PASSWORD: $DB_PASSWORD"
# echo "REDIS_PASSWORD: $REDIS_PASSWORD"
